<!DOCTYPE html>
<html>
  <head>
    <title>Ellipse Color Demo</title>
  </head>
  <body>
    <canvas id="myCanvas" width="500" height="500"></canvas>
    <script>
      const canvas = document.getElementById('myCanvas');
      const ctx = canvas.getContext('2d');

      const centerX = 250;
      const centerY = 250;
      const a = 40;
      const b = 30;
      const angle = 45;

      for (let x = 0; x < canvas.width; x++) {
        for (let y = 0; y < canvas.height; y++) {
          const dx = x - centerX;
          const dy = y - centerY;
          const cosAngle = Math.cos(angle * Math.PI / 180);
          const sinAngle = Math.sin(angle * Math.PI / 180);
          const x1 = cosAngle * dx + sinAngle * dy;
          const y1 = -sinAngle * dx + cosAngle * dy;
          const distanceFromCenter = Math.sqrt((x1 / a) ** 2 + (y1 / b) ** 2);

          if (distanceFromCenter <= 1) {
            let intensity = 255 - ((distanceFromCenter) * 255);
            ctx.fillStyle = `rgb(${intensity}, ${intensity}, ${intensity})`;
            ctx.fillRect(x, y, 1, 1);
          }
        }
      }

      ctx.beginPath();
      ctx.ellipse(centerX, centerY, a, b, angle * Math.PI / 180, 0, 2 * Math.PI);
      ctx.strokeStyle = 'black';
      ctx.lineWidth = 2;
      ctx.stroke();
    </script>
  </body>
</html>

